{% extends "base.html" %}
{% load static %}


{% block content %}
    <div class="row">
        <div class="col s2"></div>

        <div class="col s8">

            <div class="card">
                <div class="card-content">
                    <span class="card-title">Suggested New Budget</span>
                    <div id="donutchart" style="width: 900px; height: 500px;"></div>           
                </div>
            </div>
        </div> 
        <div class="col s2"></div>
    </div>

    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    <script type="text/javascript">
      google.charts.load("current", {packages:["corechart"]});
      google.charts.setOnLoadCallback(drawChart);
      function drawChart() {
        var data = google.visualization.arrayToDataTable([
            ['Category', 'Money'],
            ['food', {{ budget.food }}],
            ['housing', {{ budget.housing }}],
            ['transportation', {{ budget.transportation }}],
            ['healthcare', {{ budget.healthcare }}],
            ['taxes', {{ budget.taxes }}],
            ['other', {{ budget.other }}]
        ]);

        var options = {
          title: 'Budget (in USD)',
          pieHole: 0.4,
          pieSliceText: 'value'
        };

        var chart = new google.visualization.PieChart(document.getElementById('donutchart'));
        chart.draw(data, options);
      }
    </script>
{% endblock %}
